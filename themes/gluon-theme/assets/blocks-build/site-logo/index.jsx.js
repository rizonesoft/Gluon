(()=>{"use strict";const e=window.wp.blocks,o=window.wp.blockEditor,l=window.wp.components,n=window.wp.i18n,t=window.ReactJSXRuntime;(0,e.registerBlockType)("gluon/site-logo",{edit:({attributes:e,setAttributes:i})=>{const{logoLightId:a,logoDarkId:s,width:c,linkToHome:g}=e,d=(0,o.useBlockProps)({className:"gluon-site-logo-block"}),[r,h]=wp.element.useState(""),[u,p]=wp.element.useState("");wp.element.useEffect(()=>{a?wp.apiFetch({path:`/wp/v2/media/${a}`}).then(e=>h(e.source_url)).catch(()=>h("")):h("")},[a]),wp.element.useEffect(()=>{s?wp.apiFetch({path:`/wp/v2/media/${s}`}).then(e=>p(e.source_url)).catch(()=>p("")):p("")},[s]);const m=r||u;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.InspectorControls,{children:[(0,t.jsxs)(l.PanelBody,{title:(0,n.__)("Logo Settings","gluon"),initialOpen:!0,children:[(0,t.jsx)(l.RangeControl,{label:(0,n.__)("Logo Height","gluon"),value:c,onChange:e=>i({width:e}),min:20,max:200}),(0,t.jsx)(l.ToggleControl,{label:(0,n.__)("Link to Home","gluon"),checked:g,onChange:e=>i({linkToHome:e})})]}),(0,t.jsxs)(l.PanelBody,{title:(0,n.__)("Light Mode Logo","gluon"),initialOpen:!0,children:[(0,t.jsx)(o.MediaUploadCheck,{children:(0,t.jsx)(o.MediaUpload,{onSelect:e=>i({logoLightId:e.id}),allowedTypes:["image"],value:a,render:({open:e})=>(0,t.jsx)("div",{className:"gluon-logo-upload-area",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:r,alt:"",style:{maxWidth:"100%",marginBottom:"10px"}}),(0,t.jsx)(l.Button,{variant:"secondary",onClick:e,children:(0,n.__)("Replace","gluon")}),(0,t.jsx)(l.Button,{variant:"link",isDestructive:!0,onClick:()=>i({logoLightId:0}),children:(0,n.__)("Remove","gluon")})]}):(0,t.jsx)(l.Button,{variant:"secondary",onClick:e,children:(0,n.__)("Select Light Logo","gluon")})})})}),(0,t.jsx)("p",{className:"components-base-control__help",children:(0,n.__)("Displayed on light backgrounds.","gluon")})]}),(0,t.jsxs)(l.PanelBody,{title:(0,n.__)("Dark Mode Logo","gluon"),initialOpen:!0,children:[(0,t.jsx)(o.MediaUploadCheck,{children:(0,t.jsx)(o.MediaUpload,{onSelect:e=>i({logoDarkId:e.id}),allowedTypes:["image"],value:s,render:({open:e})=>(0,t.jsx)("div",{className:"gluon-logo-upload-area",children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:u,alt:"",style:{maxWidth:"100%",marginBottom:"10px"}}),(0,t.jsx)(l.Button,{variant:"secondary",onClick:e,children:(0,n.__)("Replace","gluon")}),(0,t.jsx)(l.Button,{variant:"link",isDestructive:!0,onClick:()=>i({logoDarkId:0}),children:(0,n.__)("Remove","gluon")})]}):(0,t.jsx)(l.Button,{variant:"secondary",onClick:e,children:(0,n.__)("Select Dark Logo","gluon")})})})}),(0,t.jsx)("p",{className:"components-base-control__help",children:(0,n.__)("Displayed on dark backgrounds.","gluon")})]})]}),(0,t.jsx)("div",{...d,children:m?(0,t.jsxs)("div",{className:"gluon-logo-preview",style:{height:`${c}px`},children:[r&&(0,t.jsx)("img",{src:r,alt:(0,n.__)("Light mode logo","gluon"),className:"gluon-logo gluon-logo-light",style:{height:`${c}px`,width:"auto"}}),u&&(0,t.jsx)("img",{src:u,alt:(0,n.__)("Dark mode logo","gluon"),className:"gluon-logo gluon-logo-dark",style:{height:`${c}px`,width:"auto"}})]}):(0,t.jsx)(l.Placeholder,{icon:"format-image",label:(0,n.__)("Gluon Site Logo","gluon"),instructions:(0,n.__)("Upload light and dark mode logos in the block settings panel.","gluon")})})]})},save:()=>null})})();